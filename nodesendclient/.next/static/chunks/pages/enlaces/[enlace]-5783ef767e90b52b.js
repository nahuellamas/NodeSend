(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[43],{1692:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/enlaces/[enlace]",function(){return t(3931)}])},8583:function(e,n,t){"use strict";var r=t(5893),a=t(7294),s=t(8216),c=t(2324);n.Z=function(){var e=(0,a.useContext)(s.Z).msg,n=(0,a.useContext)(c.Z).mensaje_archivo;return(0,r.jsx)("div",{className:"bg-redline py-2 px-3 w-full my-3 max-w-lg text-center text-white mx-auto",children:e||n})}},993:function(e,n,t){"use strict";t.d(n,{Z:function(){return p}});var r=t(5893),a=t(9008),s=t(1664),c=t(5675),i=t(7294),o=t(8216),l=t(2324),u=t(1163),d=function(){var e=(0,u.useRouter)(),n=(0,i.useContext)(o.Z),t=n.obtenerUsuario,a=n.user,d=n.cerrarSesion,p=(0,i.useContext)(l.Z).limpiarState;(0,i.useEffect)((function(){t()}),[]);return(0,r.jsxs)("header",{className:"py-8 flex flex-col md:flex-row items-center justify-between",children:[(0,r.jsx)(c.default,{alt:"favicon",onClick:function(){return e.push("/"),void p()},className:"mb-8 sm:mb-4 cursor-pointer",src:"/favicon.svg",width:400,height:100}),(0,r.jsx)("div",{className:"flex gap-3",children:a?(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("p",{children:["\xa1Hola ",a.nombre,"!"]}),(0,r.jsx)("button",{className:"bg-black px-5 py-3 rounded text-white font-bold uppercase text-clamp",type:"button",onClick:function(){d()},children:"Cerrar Sesi\xf3n"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.default,{href:"/login",children:(0,r.jsx)("a",{className:"bg-redline rounded px-5 py-3 font-bold text-white uppercase",children:"Iniciar Sesi\xf3n"})}),(0,r.jsx)(s.default,{href:"/crearcuenta",children:(0,r.jsx)("a",{className:"bg-black rounded px-5 py-3 font-bold text-white uppercase",children:"Crear Cuenta"})})]})})]})},p=function(e){var n=e.children,t=e.pagina;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.default,{children:[(0,r.jsxs)("title",{children:["NodeSend - ",t]}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.svg"})]}),(0,r.jsx)("div",{className:"bg-gray-100 min-h-screen",children:(0,r.jsxs)("div",{className:"container mx-auto",children:[(0,r.jsx)(d,{}),(0,r.jsx)("main",{className:"mt-10",children:n})]})})]})}},3931:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return h},getServerSidePaths:function(){return x}});var r=t(4051),a=t.n(r),s=t(5893),c=t(993),i=t(8583),o=t(159),l=t(7294),u=t(2324);function d(e,n,t,r,a,s,c){try{var i=e[s](c),o=i.value}catch(l){return void t(l)}i.done?n(o):Promise.resolve(o).then(r,a)}function p(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var s=e.apply(n,t);function c(e){d(s,r,a,c,i,"next",e)}function i(e){d(s,r,a,c,i,"throw",e)}c(void 0)}))}}var h=!0;function x(){return f.apply(this,arguments)}function f(){return(f=p(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("/api/enlaces");case 2:return n=e.sent,e.abrupt("return",{paths:n.data.enlaces.map((function(e){return{params:{enlace:e.url}}})),fallback:!1});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n.default=function(e){var n=e.enlace,t=(0,l.useState)(n.password),r=t[0],d=t[1],h=(0,l.useState)(""),x=h[0],f=h[1],m=(0,l.useContext)(u.Z),v=m.mostrarAlerta,b=m.mensaje_archivo,w=function(){var e=p(a().mark((function e(t){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={password:x},e.prev=2,e.next=5,o.Z.post("/api/enlaces/".concat(n.enlace),r);case 5:s=e.sent,d(s.data.password),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),v(e.t0.response.data.msg);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}();return(0,s.jsx)(c.Z,{children:r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-clamp-1 text-redline uppercase font-bold text-center mb-4",children:"Enlace protegido por Password"}),b?(0,s.jsx)(i.Z,{mensaje:b}):null,(0,s.jsx)("div",{className:"w-11/12 lg:w-6/12 m-auto",children:(0,s.jsxs)("form",{onSubmit:function(e){return w(e)},className:"bg-white w-full rounded shadow-md px-8 pt-6 pb-8 mb-4",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-gray-600 text-sm font-bold mb-2",children:"Contrase\xf1a"}),(0,s.jsx)("input",{onChange:function(e){return f(e.target.value)},value:x,type:"password",id:"password",className:"focus/:outline-none focus:shadow-outline border-b text-sm appearance-none w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Password del Enlace"})]}),(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)("button",{type:"submit",className:"bg-redline w-full rounded p-2 font-bold text-clamp uppercase hover:bg-black ease-in-out duration-300 text-white",children:"Validar"})})]})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"text-redline text-clamp text-center",children:"Descargar archivo compartido:"}),(0,s.jsx)("div",{className:"flex items-center justify-center mt-5",children:(0,s.jsx)("a",{href:"".concat("https://send-node-api.herokuapp.com/","api/archivos/").concat(n.archivo),className:"bg-redline hover:bg-red-700 hover:cursor-pointer text-white font-bold py-2 px-4 rounded uppercase",children:"Descargar"})})]})})}}},function(e){e.O(0,[675,774,888,179],(function(){return n=1692,e(e.s=n);var n}));var n=e.O();_N_E=n}]);